{"version":3,"file":"js/47.fc7385b6.js","mappings":"wMAEOA,MAAM,a,GACJ,aAAW,c,GACVA,MAAM,c,GACJA,MAAM,mB,GACNA,MAAM,yBAAyB,eAAa,Q,GAG/CA,MAAM,8B,GACAA,MAAM,S,aAMVA,MAAM,S,SACJA,MAAM,M,SACNA,MAAM,M,SACNA,MAAM,M,GACXC,EAAAA,EAAAA,GAAI,mB,GACCD,MAAM,sCAAsCE,KAAK,UAAU,aAAW,8B,GACpEF,MAAM,YAAYE,KAAK,QAAQ,aAAW,e,6HArBvDC,EAAAA,EAAAA,IAAyDC,EAAA,CAAtCC,OAAQC,EAAAC,WAAS,oBACpCN,EAAAA,EAAAA,GAgCM,MAhCNO,EAgCM,EA/BJP,EAAAA,EAAAA,GAKM,MALNQ,EAKM,EAJJR,EAAAA,EAAAA,GAGK,KAHLS,EAGK,EAFHT,EAAAA,EAAAA,GAA+E,KAA/EU,EAA+E,EAAnDR,EAAAA,EAAAA,IAA8CS,EAAA,CAAjCC,GAAG,cAAY,C,kBAAC,IAAG,UAAH,U,SACzDZ,EAAAA,EAAAA,GAA+E,KAA/Ea,GAA+EC,EAAAA,EAAAA,IAArBC,EAAAC,QAAQC,OAAK,QAG3EjB,EAAAA,EAAAA,GAwBM,MAxBNkB,EAwBM,EAvBJlB,EAAAA,EAAAA,GAKU,UALVmB,EAKU,EAJRnB,EAAAA,EAAAA,GAA4B,WAAAc,EAAAA,EAAAA,IAArBC,EAAAC,QAAQC,OAAK,IACpBjB,EAAAA,EAAAA,GAAgC,YAAAc,EAAAA,EAAAA,IAAxBC,EAAAC,QAAQI,SAAO,IACvBpB,EAAAA,EAAAA,GAAoC,YAAAc,EAAAA,EAAAA,IAA5BC,EAAAC,QAAQK,aAAW,IAC3BrB,EAAAA,EAAAA,GAA2D,OAArDsB,IAAKP,EAAAC,QAAQO,SAAUC,IAAI,GAAGzB,MAAM,kB,aAE5CC,EAAAA,EAAAA,GAgBM,MAhBNyB,EAgBM,CAfmBV,EAAAC,QAAQU,OAAmC,iBAA9B,WAApCC,EAAAA,EAAAA,IAAwE,MAAxEC,GAAwEd,EAAAA,EAAAA,IAA/BC,EAAAC,QAAQa,cAAe,KAAE,IAC5Cd,EAAAC,QAAQU,QAAK,WAAnCC,EAAAA,EAAAA,IAA0E,MAA1EG,EAAqC,OAAGhB,EAAAA,EAAAA,IAAGC,EAAAC,QAAQa,cAAe,KAAE,oBAC9Cd,EAAAC,QAAQU,QAAK,WAAnCC,EAAAA,EAAAA,IAAqE,MAArEI,EAAqC,SAAKjB,EAAAA,EAAAA,IAAGC,EAAAC,QAAQU,OAAQ,KAAE,oBAC/DM,GACAhC,EAAAA,EAAAA,GAMM,MANNiC,EAMM,EALJjC,EAAAA,EAAAA,GAIM,MAJNkC,EAIM,EAHJlC,EAAAA,EAAAA,GAAsG,UAA9FmC,KAAK,SAASC,IAAI,IAAIrC,MAAM,4BAA6BsC,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAAC,UAAU1B,EAAAC,WAAU,MAAC,SAC7FhB,EAAAA,EAAAA,GAAgE,SAAzDmC,KAAK,SAASpC,MAAM,e,qCAAwBgB,EAAAC,QAAQ0B,IAAGH,I,iBAAXxB,EAAAC,QAAQ0B,QAC3D1C,EAAAA,EAAAA,GAA2F,UAAnFmC,KAAK,SAASpC,MAAM,4BAA6BsC,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAAG,OAAO5B,EAAAC,WAAU,UAGrFhB,EAAAA,EAAAA,GAGS,UAHDmC,KAAK,SAASpC,MAAM,yBACnBsC,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAAI,UAAU7B,EAAAC,WAAU,kBAEpC,G,YAMR,GACE6B,IAAAA,GACE,MAAO,CACL7B,QAAS,CAAC,EACV8B,GAAI,GAER,EACAC,QAAS,CACPC,UAAAA,GACE,MAAMC,EAAO,+DAAoEC,KAAKJ,KACtFI,KAAK5C,WAAY,EACjB4C,KAAKC,MAAMC,IAAIH,GAAKI,MAAMC,IACxBC,QAAQC,IAAIF,EAAST,MACrBK,KAAK5C,WAAY,EACbgD,EAAST,KAAKY,UAChBP,KAAKlC,QAAU,IAAKsC,EAAST,KAAK7B,QAAS0B,IAAK,GAClD,GAEJ,EACAE,SAAAA,CAAW5B,GACT,MAAM0C,EAAO,2DACbH,QAAQC,IAAI,cAAexC,GAC3B,MAAM2C,EAAO,CACXC,WAAY5C,EAAQ8B,GACpBJ,IAAK1B,EAAQ0B,KAEfQ,KAAK5C,WAAY,EACjB4C,KAAKC,MAAMU,KAAKH,EAAK,CAAEb,KAAMc,IAAQN,MAAMC,IACzCJ,KAAK5C,WAAY,EACjB4C,KAAKY,kBAAkBR,EAAU,SACjCJ,KAAKa,QAAQC,KAAK,aAAa,GAEnC,EACArB,MAAAA,CAAQ3B,GACNA,EAAQ0B,KAAO,CACjB,EACAD,SAAAA,CAAWzB,GACLA,EAAQ0B,IAAM,IAChB1B,EAAQ0B,KAAO,EAEnB,GAEFuB,OAAAA,GACEf,KAAKJ,GAAKI,KAAKgB,OAAOC,OAAOC,UAC7BlB,KAAKF,YACP,G,QC7EF,MAAMqB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://fang-shop/./src/views/UserProduct.vue","webpack://fang-shop/./src/views/UserProduct.vue?c4ac"],"sourcesContent":["<template>\r\n  <LoadingComponent :active=\"isLoading\"></LoadingComponent>\r\n  <div class=\"container\">\r\n    <nav aria-label=\"breadcrumb\">\r\n      <ol class=\"breadcrumb\">\r\n        <li class=\"breadcrumb-item\"><router-link to=\"/user/cart\">購物車</router-link></li>\r\n        <li class=\"breadcrumb-item active\" aria-current=\"page\">{{ product.title }}</li>\r\n      </ol>\r\n    </nav>\r\n    <div class=\"row justify-content-center\">\r\n      <article class=\"col-8\">\r\n        <h2>{{ product.title }}</h2>\r\n        <div>{{ product.content }}</div>\r\n        <div>{{ product.description }}</div>\r\n        <img :src=\"product.imageUrl\" alt=\"\" class=\"img-fluid mb-3\">\r\n      </article>\r\n      <div class=\"col-4\">\r\n        <div class=\"h5\" v-if=\"!product.price\">{{ product.origin_price }} 元</div>\r\n        <del class=\"h6\" v-if=\"product.price\">原價 {{ product.origin_price }} 元</del>\r\n        <div class=\"h5\" v-if=\"product.price\">現在只要 {{ product.price }} 元</div>\r\n        <hr>\r\n        <div class=\"btn-toolbar justify-content-between\" role=\"toolbar\" aria-label=\"Toolbar with button groups\">\r\n          <div class=\"btn-group\" role=\"group\" aria-label=\"First group\">\r\n            <button type=\"button\" min=\"1\" class=\"btn btn-outline-secondary\" @click=\"deleteQty(product)\">-</button>\r\n            <input type=\"number\" class=\"form-control\" v-model=\"product.qty\">\r\n            <button type=\"button\" class=\"btn btn-outline-secondary\" @click=\"addQty(product)\">+</button>\r\n          </div>\r\n        </div>\r\n        <button type=\"button\" class=\"btn btn-outline-danger\"\r\n                @click=\"addToCart(product)\">\r\n          加到購物車\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      product: {},\r\n      id: ''\r\n    }\r\n  },\r\n  methods: {\r\n    getProduct () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${this.id}`\r\n      this.isLoading = true\r\n      this.$http.get(api).then((response) => {\r\n        console.log(response.data)\r\n        this.isLoading = false\r\n        if (response.data.success) {\r\n          this.product = { ...response.data.product, qty: 1 }\r\n        }\r\n      })\r\n    },\r\n    addToCart (product) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      console.log('product123:', product)\r\n      const cart = {\r\n        product_id: product.id,\r\n        qty: product.qty\r\n      }\r\n      this.isLoading = true\r\n      this.$http.post(url, { data: cart }).then((response) => {\r\n        this.isLoading = false\r\n        this.$httpMessageState(response, '加入購物車')\r\n        this.$router.push('/user/cart')\r\n      })\r\n    },\r\n    addQty (product) {\r\n      product.qty += 1\r\n    },\r\n    deleteQty (product) {\r\n      if (product.qty > 1) {\r\n        product.qty -= 1\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.id = this.$route.params.productId\r\n    this.getProduct()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./UserProduct.vue?vue&type=template&id=2c427e04\"\nimport script from \"./UserProduct.vue?vue&type=script&lang=js\"\nexport * from \"./UserProduct.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","role","_createVNode","_component_LoadingComponent","active","_ctx","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_component_router_link","to","_hoisted_5","_toDisplayString","$data","product","title","_hoisted_6","_hoisted_7","content","description","src","imageUrl","alt","_hoisted_9","price","_createElementBlock","_hoisted_10","origin_price","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","type","min","onClick","_cache","$event","$options","deleteQty","qty","addQty","addToCart","data","id","methods","getProduct","api","this","$http","get","then","response","console","log","success","url","cart","product_id","post","$httpMessageState","$router","push","created","$route","params","productId","__exports__","render"],"sourceRoot":""}