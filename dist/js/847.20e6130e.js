"use strict";(self["webpackChunkfang_shop"]=self["webpackChunkfang_shop"]||[]).push([[847],{7847:function(t,s,i){i.r(s),i.d(s,{default:function(){return x}});var n=i(3396),o=i(7139);const e={class:"container"},l={class:"row mt-4"},a={class:"col-md-7"},d={class:"table align-middle"},c=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"圖片"),(0,n._)("th",null,"商品名稱"),(0,n._)("th",null,"價格"),(0,n._)("th",null,"數量"),(0,n._)("th")])],-1),u={style:{width:"200px"}},r=["onClick"],g={key:0,class:"h5"},p={key:1,class:"h6"},h={key:2,class:"h5"},_={class:"btn-group btn-group-sm"},k=["onClick"],b=["disabled","onClick"],v={key:0,class:"spinner-grow text-danger spinner-grow-sm",role:"status"},w=(0,n._)("span",{class:"visually-hidden"},"Loading...",-1),m=[w];function y(t,s,i,w,y,C){const f=(0,n.up)("LoadingComponent");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(f,{active:t.isLoading},null,8,["active"]),(0,n._)("div",e,[(0,n._)("div",l,[(0,n._)("div",a,[(0,n._)("table",d,[c,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(y.products,(t=>((0,n.wg)(),(0,n.iD)("tr",{key:t.id},[(0,n._)("td",u,[(0,n._)("div",{style:(0,o.j5)([{height:"100px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${t.imageUrl})`}])},null,4)]),(0,n._)("td",null,[(0,n._)("a",{class:"text-dark",onClick:s=>C.getProduct(t.id)},(0,o.zw)(t.title),9,r)]),(0,n._)("td",null,[t.price?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",g,(0,o.zw)(t.origin_price)+" 元",1)),t.price?((0,n.wg)(),(0,n.iD)("del",p,"原價 "+(0,o.zw)(t.origin_price)+" 元",1)):(0,n.kq)("",!0),t.price?((0,n.wg)(),(0,n.iD)("div",h,"現在只要 "+(0,o.zw)(t.price)+" 元",1)):(0,n.kq)("",!0)]),(0,n._)("td",null,[(0,n._)("div",_,[(0,n._)("button",{type:"button",class:"btn btn-outline-secondary",onClick:s=>C.getProduct(t.id)}," 查看更多 ",8,k),(0,n._)("button",{type:"button",class:"btn btn-outline-danger",disabled:this.status.loadingItem===t.id,onClick:s=>C.addCart(t.id)},[this.status.loadingItem===t.id?((0,n.wg)(),(0,n.iD)("div",v,m)):(0,n.kq)("",!0),(0,n.Uk)(" 加到購物車 ")],8,b)])])])))),128))])])])])])],64)}i(560);var C={data(){return{products:[],product:{},status:{loadingItem:""}}},methods:{getProducts(){const t="https://vue3-course-api.hexschool.io/api/yufang-api/products/all";this.isLoading=!0,this.$http.get(t).then((t=>{this.products=t.data.products,console.log("products:",t),this.isLoading=!1}))},getProduct(t){this.$router.push(`/user/product/${t}`)},addCart(t){const s="https://vue3-course-api.hexschool.io/api/yufang-api/cart";this.status.loadingItem=t;const i={product_id:t,qty:1};this.$http.post(s,{data:i}).then((t=>{this.status.loadingItem="",console.log(t)})),console.log(t)}},created(){this.getProducts()}},f=i(89);const D=(0,f.Z)(C,[["render",y]]);var x=D}}]);
//# sourceMappingURL=847.20e6130e.js.map