{"version":3,"file":"js/851.e24201e8.js","mappings":"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","sources":["webpack://fang-shop/./src/components/PaginationView.vue","webpack://fang-shop/./src/components/PaginationView.vue?d04d","webpack://fang-shop/./src/views/OrdersView.vue","webpack://fang-shop/./src/components/OrderModal.vue","webpack://fang-shop/./src/components/OrderModal.vue?b91a","webpack://fang-shop/./src/views/OrdersView.vue?e537"],"sourcesContent":["<template>\r\n  <nav aria-label=\"Page navigation example\">\r\n    <ul class=\"pagination justify-content-center\">\r\n      <li class=\"page-item\" v-if=\"pages.has_pre\">\r\n        <a class=\"page-link\" href=\"#\" aria-label=\"Previous\"\r\n        @click.prevent=\"updatePage(pages.current_page - 1)\">\r\n          <span aria-hidden=\"true\">&laquo;</span>\r\n        </a>\r\n      </li>\r\n      <li class=\"page-item\" v-for=\"page in pages.total_pages\"\r\n      :key=\"page\" :class=\"{ 'active': page === pages.current_page}\">\r\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(page)\">\r\n          {{ page }}\r\n        </a>\r\n      </li>\r\n      <li class=\"page-item\" v-if=\"pages.has_next\">\r\n        <a class=\"page-link\" href=\"#\" aria-label=\"Next\"\r\n        @click.prevent=\"updatePage(pages.current_page + 1)\">\r\n          <span aria-hidden=\"true\">&raquo;</span>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\n// :pages=\"{ 頁碼資訊 }\"\r\n// @emitPages=\"更新頁面事件\"\r\nexport default {\r\n  props: ['pages'],\r\n  methods: {\r\n    updatePage (page) {\r\n      this.$emit('emit-pages', page)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./PaginationView.vue?vue&type=template&id=3fc6d968\"\nimport script from \"./PaginationView.vue?vue&type=script&lang=js\"\nexport * from \"./PaginationView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <LoadingComponent :active=\"isLoading\"></LoadingComponent>\r\n  <table class=\"table mt-4\">\r\n    <thead>\r\n      <tr>\r\n        <th width=\"200\">購買時間</th>\r\n        <th width=\"200\">Email</th>\r\n        <th width=\"120\">購買款項</th>\r\n        <th width=\"120\">應付金額</th>\r\n        <th width=\"100\">是否付款</th>\r\n        <th width=\"200\">編輯</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr v-for=\"item in orders\" :key=\"item.id\">\r\n        <td>{{ item.create_at }}</td>\r\n        <td>{{ item.user.email }}</td>\r\n        <td v-for=\"stuff in item.products\" :key=\"stuff.id\" class=\"text-right\">\r\n          `{{ stuff.id }} ： {{ stuff.qty }}`\r\n        </td>\r\n        <td class=\"text-right\">\r\n          {{ item.total }}\r\n        </td>\r\n        <td>\r\n          <span class=\"text-success\" v-if=\"item.is_paid\">已付款</span>\r\n          <span class=\"text-muted\" v-else>未付款</span>\r\n        </td>\r\n        <td>\r\n          <div class=\"btn-group\">\r\n            <button class=\"btn btn-outline-primary btn-sm\" @click=\"openModal(item)\">檢視</button>\r\n            <button class=\"btn btn-outline-danger btn-sm\" @click=\"openDelModal(item)\">刪除</button>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n  <PaginationView :pages=\"pagination\"\r\n  @emit-pages=\"getOrders\"></PaginationView>\r\n  <OrderModal ref=\"orderModal\"\r\n  :order=\"tempOrder\"\r\n  @update-order=\"updateOrder\"></OrderModal>\r\n  <DelModal ref=\"delModal\"\r\n  :view=\"`delOrder`\"\r\n  :item=\"delProduct\"\r\n  @delete-order=\"deleteOrder\"\r\n  ></DelModal>\r\n</template>\r\n<script>\r\nimport OrderModal from '../components/OrderModal.vue'\r\nimport DelModal from '../components/DelModal.vue'\r\nimport LoadingComponent from 'vue3-loading-overlay'\r\nimport PaginationView from '@/components/PaginationView.vue'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      orders: [],\r\n      pagination: {},\r\n      tempOrder: {},\r\n      isNew: false,\r\n      delProduct: {},\r\n      isLoading: false\r\n    }\r\n  },\r\n  components: {\r\n    OrderModal,\r\n    DelModal,\r\n    LoadingComponent,\r\n    PaginationView\r\n  },\r\n  inject: ['emitter'],\r\n  methods: {\r\n    getOrders (page = 1) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders?page=${page}`\r\n      this.isLoading = true\r\n      console.log(api)\r\n      this.$http.get(api)\r\n        .then((res) => {\r\n          this.isLoading = false\r\n          console.log('orders:', res)\r\n          if (res.data.success) {\r\n            this.orders = res.data.products\r\n            this.pagination = res.data.pagination\r\n          }\r\n        })\r\n    },\r\n    openModal (item) {\r\n      this.tempOrder = { ...item }\r\n      const orderComponent = this.$refs.orderModal\r\n      orderComponent.showModal()\r\n    },\r\n    openDelModal (item) {\r\n      this.delProduct = { ...item }\r\n      const delComponent = this.$refs.delModal\r\n      delComponent.showModal()\r\n    },\r\n    updateOrder (item) {\r\n      this.tempProduct = item\r\n      // 修改訂單\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`\r\n      const orderComponent = this.$refs.orderModal\r\n      this.isLoading = true\r\n      this.$http.put(api, { data: this.tempOrder }).then(\r\n        (response) => {\r\n          this.isLoading = false\r\n          console.log(response)\r\n          orderComponent.hideModal()\r\n          this.getOrders()\r\n          this.$httpMessageState(response, '更新')\r\n        }\r\n      )\r\n    },\r\n    deleteOrder (productId) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${productId}`\r\n      const delComponent = this.$refs.delModal\r\n      this.isLoading = true\r\n      this.$http.delete(api).then(\r\n        (response) => {\r\n          this.isLoading = false\r\n          delComponent.hideModal()\r\n          this.getOrders()\r\n        }\r\n      )\r\n    }\r\n  },\r\n  created () {\r\n    this.getOrders()\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <div class=\"modal fade\" id=\"productModal\" tabindex=\"-1\" role=\"dialog\"\r\n       aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\" ref=\"modal\">\r\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n      <div class=\"modal-content border-0\">\r\n        <div class=\"modal-header bg-dark text-white\">\r\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n            <span>訂單細節</span>\r\n          </h5>\r\n          <button type=\"button\" class=\"btn-close\"\r\n                  data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"row\">\r\n            <div class=\"col-md-4\">\r\n              <h3>用戶資料</h3>\r\n              <table class=\"table\">\r\n                <tbody v-if=\"tempOrder.user\">\r\n                  <tr>\r\n                    <th style=\"width: 100px;\">姓名</th>\r\n                    <td>{{ tempOrder.user.name }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>Email</th>\r\n                    <td>{{ tempOrder.user.email }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>電話</th>\r\n                    <td>{{ tempOrder.user.tel }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>地址</th>\r\n                    <td>{{ tempOrder.user.address }}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <div class=\"col-md-8\">\r\n              <h3>訂單細節</h3>\r\n              <table class=\"table\">\r\n                <tbody>\r\n                  <tr>\r\n                    <th style=\"width: 100px\">訂單編號</th>\r\n                    <td>{{ tempOrder.id }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>下單時間</th>\r\n                    <td>{{ $filters.date(tempOrder.create_at)}}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>付款時間</th>\r\n                    <td>\r\n                      <span v-if=\"tempOrder.paid_date\">\r\n                        {{ $filters.date(tempOrder.paid_date) }}\r\n                      </span>\r\n                      <span v-else>時間不正確</span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>付款狀態</th>\r\n                    <td>\r\n                      <strong v-if=\"tempOrder.is_paid\" class=\"text-success\">已付款</strong>\r\n                      <span v-else class=\"text-muted\">尚未付款</span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>總金額</th>\r\n                    <td>\r\n                      {{ $filters.currency(tempOrder.total) }}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <h3>選購商品</h3>\r\n              <table class=\"table\">\r\n                <thead>\r\n                  <tr>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"item in tempOrder.products\" :key=\"item.id\">\r\n                    <th>\r\n                      {{ item.product.title }}\r\n                    </th>\r\n                    <td>\r\n                      {{ item.qty }} / {{ item.product.unit }}\r\n                    </td>\r\n                    <td class=\"text-end\">\r\n                      {{ $filters.currency(item.final_total) }}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-outline-secondary\"\r\n                  data-bs-dismiss=\"modal\">取消\r\n          </button>\r\n          <button type=\"button\" class=\"btn btn-primary\"\r\n                  @click=\"$emit('update-order', tempOrder)\">確認</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport modalMixin from '@/mixins/modalMixin'\r\nexport default {\r\n  name: 'orderModal',\r\n  props: {\r\n    order: {\r\n      type: Object,\r\n      default () { return {} }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      status: {},\r\n      modal: '',\r\n      tempOrder: {},\r\n      isPaid: false\r\n    }\r\n  },\r\n  emits: ['update-order'],\r\n  mixins: [modalMixin],\r\n  inject: ['emitter'],\r\n  watch: {\r\n    order () {\r\n      this.tempOrder = this.order\r\n      this.isPaid = this.tempOrder.is_paid\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./OrderModal.vue?vue&type=template&id=0d50b8fd\"\nimport script from \"./OrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OrdersView.vue?vue&type=template&id=5a8d94e4\"\nimport script from \"./OrdersView.vue?vue&type=script&lang=js\"\nexport * from \"./OrdersView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_4","_hoisted_8","_createElementBlock","_hoisted_1","_hoisted_2","$props","pages","has_pre","_hoisted_3","href","onClick","_cache","_withModifiers","$event","$options","updatePage","current_page","_Fragment","_renderList","total_pages","page","_normalizeClass","key","_hoisted_6","has_next","_hoisted_7","props","methods","this","$emit","__exports__","render","width","_createVNode","_component_LoadingComponent","active","$data","isLoading","orders","item","id","_toDisplayString","create_at","user","email","products","stuff","qty","total","is_paid","_hoisted_5","openModal","openDelModal","_component_PaginationView","pagination","onEmitPages","getOrders","_component_OrderModal","ref","order","tempOrder","onUpdateOrder","updateOrder","_component_DelModal","view","delProduct","onDeleteOrder","deleteOrder","tabindex","role","type","style","_hoisted_9","_hoisted_10","_hoisted_11","name","_hoisted_12","_hoisted_13","tel","_hoisted_14","address","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_ctx","$filters","date","_hoisted_20","paid_date","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","currency","_hoisted_27","_hoisted_28","_hoisted_29","product","title","unit","_hoisted_30","final_total","_hoisted_31","_hoisted_32","Object","default","data","status","modal","isPaid","emits","mixins","modalMixin","inject","watch","isNew","components","OrderModal","DelModal","LoadingComponent","PaginationView","api","console","log","$http","get","then","res","success","orderComponent","$refs","orderModal","showModal","delComponent","delModal","tempProduct","put","response","hideModal","$httpMessageState","productId","delete","created"],"sourceRoot":""}