"use strict";(self["webpackChunkfang_shop"]=self["webpackChunkfang_shop"]||[]).push([[902],{3902:function(t,o,r){r.r(o),r.d(o,{default:function(){return z}});var c=r(3396),e=r(7139),i=r(9242);const a={class:"container"},s={"aria-label":"breadcrumb"},n={class:"breadcrumb"},u={class:"breadcrumb-item"},l={class:"breadcrumb-item active","aria-current":"page"},d={class:"row justify-content-center"},p={class:"col-8"},h=["src"],b={class:"col-4"},g={key:0,class:"h5"},y={key:1,class:"h6"},_={key:2,class:"h5"},m=(0,c._)("hr",null,null,-1),v={class:"btn-toolbar justify-content-between",role:"toolbar","aria-label":"Toolbar with button groups"},w={class:"btn-group",role:"group","aria-label":"First group"};function f(t,o,r,f,k,q){const C=(0,c.up)("LoadingComponent"),z=(0,c.up)("router-link");return(0,c.wg)(),(0,c.iD)(c.HY,null,[(0,c.Wm)(C,{active:t.isLoading},null,8,["active"]),(0,c._)("div",a,[(0,c._)("nav",s,[(0,c._)("ol",n,[(0,c._)("li",u,[(0,c.Wm)(z,{to:"/user/cart"},{default:(0,c.w5)((()=>[(0,c.Uk)("購物車")])),_:1})]),(0,c._)("li",l,(0,e.zw)(k.product.title),1)])]),(0,c._)("div",d,[(0,c._)("article",p,[(0,c._)("h2",null,(0,e.zw)(k.product.title),1),(0,c._)("div",null,(0,e.zw)(k.product.content),1),(0,c._)("div",null,(0,e.zw)(k.product.description),1),(0,c._)("img",{src:k.product.imageUrl,alt:"",class:"img-fluid mb-3"},null,8,h)]),(0,c._)("div",b,[k.product.price?(0,c.kq)("",!0):((0,c.wg)(),(0,c.iD)("div",g,(0,e.zw)(k.product.origin_price)+" 元",1)),k.product.price?((0,c.wg)(),(0,c.iD)("del",y,"原價 "+(0,e.zw)(k.product.origin_price)+" 元",1)):(0,c.kq)("",!0),k.product.price?((0,c.wg)(),(0,c.iD)("div",_,"現在只要 "+(0,e.zw)(k.product.price)+" 元",1)):(0,c.kq)("",!0),m,(0,c._)("div",v,[(0,c._)("div",w,[(0,c._)("button",{type:"button",class:"btn btn-outline-secondary",onClick:o[0]||(o[0]=t=>q.deleteQty(k.product))},"-"),(0,c.wy)((0,c._)("input",{type:"number",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=t=>k.product.qty=t)},null,512),[[i.nr,k.product.qty]]),(0,c._)("button",{type:"button",class:"btn btn-outline-secondary",onClick:o[2]||(o[2]=t=>q.addQty(k.product))},"+")])]),(0,c._)("button",{type:"button",class:"btn btn-outline-danger",onClick:o[3]||(o[3]=t=>q.addToCart(k.product))}," 加到購物車 ")])])])],64)}var k={data(){return{product:{},id:""}},methods:{getProduct(){const t=`https://vue3-course-api.hexschool.io/api/yufang-api/product/${this.id}`;this.isLoading=!0,this.$http.get(t).then((t=>{console.log(t.data),this.isLoading=!1,t.data.success&&(this.product={...t.data.product,qty:1})}))},addToCart(t){const o="https://vue3-course-api.hexschool.io/api/yufang-api/cart";console.log("product123:",t);const r={product_id:t.id,qty:t.qty};this.isLoading=!0,this.$http.post(o,{data:r}).then((t=>{this.isLoading=!1,this.$httpMessageState(t,"加入購物車")}))},addQty(t){t.qty+=1},deleteQty(t){t.qty>1&&(t.qty-=1)}},created(){this.id=this.$route.params.productId,this.getProduct()}},q=r(89);const C=(0,q.Z)(k,[["render",f]]);var z=C}}]);
//# sourceMappingURL=902.8b3fc355.js.map